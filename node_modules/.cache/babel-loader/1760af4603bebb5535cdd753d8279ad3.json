{"ast":null,"code":"var _jsxFileName = \"/Users/janliz/Desktop/employee-directory-react/edreact/src/components/Sort.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport PersonList from \"./PersonList\";\nimport API from \"../utils/API\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Sort = () => {\n  _s();\n\n  const [developerState, setDeveloperState] = useState({\n    users: [],\n    order: \"descend\",\n    filteredUsers: [],\n    // change to filter by name\n    headings: [{\n      name: \"name\",\n      order: \"descend\"\n    }]\n  });\n\n  const handleSort = heading => {\n    let currentOrder = developerState.headings.filter(elem => elem.name === heading).map(elem => elem.order).toString();\n\n    if (currentOrder === \"descend\") {\n      currentOrder = \"ascend\";\n    } else {\n      currentOrder = \"descend\";\n    }\n\n    const compareFnc = (a, b) => {\n      if (currentOrder === \"ascend\") {\n        if (a[heading] === undefined) {\n          return 1;\n        } else if (b[heading] === undefined) {\n          return -1;\n        } else if (heading === \"name\") {\n          return a[heading].first.localeCompare(b[heading].first);\n        } else if (heading === \"dob\") {\n          return a[heading].age - b[heading].age;\n        } else {\n          return a[heading].localeCompare(b[heading]);\n        }\n      } else {\n        if (a[heading] === undefined) {\n          return 1;\n        } else if (b[heading] === undefined) {\n          return -1;\n        } else if (heading === \"name\") {\n          return b[heading].first.localeCompare(a[heading].first);\n        } else if (heading === \"dob\") {\n          return b[heading].age - a[heading].age;\n        } else {\n          return b[heading].localeCompare(a[heading]);\n        }\n      }\n    };\n\n    const sortedUsers = developerState.filteredUsers.sort(compareFnc);\n    const updatedHeadings = developerState.headings.map(elem => {\n      elem.order = elem.name === heading ? currentOrder : elem.order;\n      return elem;\n    });\n    setDeveloperState({ ...developerState,\n      filteredUsers: sortedUsers,\n      headings: updatedHeadings\n    });\n  };\n\n  const handleSearchChange = event => {\n    const filter = event.target.value;\n    const filteredList = developerState.users.filter(item => {\n      let values = item.name.first.toLowerCase() + \" \" + item.name.last.toLowerCase();\n      console.log(filter, values);\n\n      if (values.indexOf(filter.toLowerCase()) !== -1) {\n        return item;\n      }\n\n      ;\n    });\n    setDeveloperState({ ...developerState,\n      filteredUsers: filteredList\n    });\n  };\n\n  useEffect(() => {\n    API.getUsers().then(results => {\n      console.log(results.data.results);\n      setDeveloperState({ ...developerState,\n        users: results.data.results,\n        filteredUsers: results.data.results\n      });\n    });\n  }, []);\n  return /*#__PURE__*/_jsxDEV(DataAreaContext.Provider, {\n    value: {\n      developerState,\n      handleSearchChange,\n      handleSort\n    },\n    children: [/*#__PURE__*/_jsxDEV(Nav, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"data-area\",\n      children: developerState.filteredUsers.length > 0 ? /*#__PURE__*/_jsxDEV(PersonList, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 50\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 67\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 95,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Sort, \"I3+WV/g+W0VqyjkADeLQPN13UEg=\");\n\n_c = Sort;\nexport default Sort;\n\nvar _c;\n\n$RefreshReg$(_c, \"Sort\");","map":{"version":3,"sources":["/Users/janliz/Desktop/employee-directory-react/edreact/src/components/Sort.js"],"names":["React","useState","useEffect","PersonList","API","Sort","developerState","setDeveloperState","users","order","filteredUsers","headings","name","handleSort","heading","currentOrder","filter","elem","map","toString","compareFnc","a","b","undefined","first","localeCompare","age","sortedUsers","sort","updatedHeadings","handleSearchChange","event","target","value","filteredList","item","values","toLowerCase","last","console","log","indexOf","getUsers","then","results","data","length"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport PersonList from \"./PersonList\";\nimport API from \"../utils/API\";\n\nconst Sort = () => {\n  const [developerState, setDeveloperState] = useState({\n    users: [],\n    order: \"descend\",\n    filteredUsers: [],// change to filter by name\n    headings: [\n      { name: \"name\",order: \"descend\" },\n     \n    ]\n  });\n\n  const handleSort = heading => {\n    let currentOrder = developerState.headings\n      .filter(elem => elem.name === heading)\n      .map(elem => elem.order)\n      .toString();\n\n    if (currentOrder === \"descend\") {\n      currentOrder = \"ascend\";\n    } else {\n      currentOrder = \"descend\";\n    }\n\n    const compareFnc = (a, b) => {\n      if (currentOrder === \"ascend\") {\n        if (a[heading] === undefined) {\n          return 1;\n        } else if (b[heading] === undefined) {\n          return -1;\n        }\n        else if (heading === \"name\") {\n          return a[heading].first.localeCompare(b[heading].first);\n        } else if (heading === \"dob\") {\n          return a[heading].age - b[heading].age;\n        } else {\n          return a[heading].localeCompare(b[heading]);\n        }\n      } else {\n        if (a[heading] === undefined) {\n          return 1;\n        } else if (b[heading] === undefined) {\n          return -1;\n        }\n        else if (heading === \"name\") {\n          return b[heading].first.localeCompare(a[heading].first);\n        }else if (heading === \"dob\") {\n          return b[heading].age - a[heading].age;\n        }  else {\n          return b[heading].localeCompare(a[heading]);\n        }\n      }\n    };\n    const sortedUsers = developerState.filteredUsers.sort(compareFnc);\n    const updatedHeadings = developerState.headings.map(elem => {\n      elem.order = elem.name === heading ? currentOrder : elem.order;\n      return elem;\n    });\n\n    setDeveloperState({\n      ...developerState,\n      filteredUsers: sortedUsers,\n      headings: updatedHeadings\n    });\n  };\n\n  const handleSearchChange = event => {\n    const filter = event.target.value;\n    const filteredList = developerState.users.filter(item => {\n      let values = item.name.first.toLowerCase() + \" \" + item.name.last.toLowerCase();\n      console.log(filter, values)\n    if(values.indexOf(filter.toLowerCase()) !== -1){\n      return item\n    };\n    });\n\n    setDeveloperState({ ...developerState, filteredUsers: filteredList });\n  };\n\n  useEffect(() => {\n    API.getUsers().then(results => {\n      console.log(results.data.results);\n      setDeveloperState({\n        ...developerState,\n        users: results.data.results,\n        filteredUsers: results.data.results\n      });\n    });\n  }, []);\n\n  return (\n    <DataAreaContext.Provider\n    value={{ developerState, handleSearchChange, handleSort }}\n  >\n    <Nav />\n    <div className=\"data-area\">\n      {developerState.filteredUsers.length > 0 ? <PersonList /> : <div></div>}\n    </div>\n  </DataAreaContext.Provider>\n  );\n};\n\nexport default Sort;"]},"metadata":{},"sourceType":"module"}